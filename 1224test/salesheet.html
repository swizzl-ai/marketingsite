<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="pdfkit-orientation" content="portrait">
    <meta name="pdfkit-header" content="none">
    <meta name="pdfkit-footer" content="none">
    <meta name="pdfkit-margins" content="0.4in">
    <title>Inventory Summary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Montserrat:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            font-size: 15px;
            background: linear-gradient(
                125deg,
                #ffffff 0%,
                #e8e8e8 35%,
                #d8d8d8 50%,
                #e8e8e8 65%,
                #ffffff 100%
            );
            background-size: 400% 400%;
            background-attachment: fixed;
        }

        .section-wrapper h3 {
            font-size: 16px;
            font-style: italic;
            font-weight: normal;
        }

        .header {
            padding: 1rem;
            background-color: white;
            border-bottom: 1px solid #e2e8f0;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        .logo {
            height: 40px;
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            border: none;
            padding: 1.25rem;
        }
        .customer-header {
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }
        .contact-info {
            margin-bottom: 20px;
        }
        .preferences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        .vehicle-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            margin-bottom: 20px;
        }

        .vehicle-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12);
        }

        .vehicle-image-container {
            position: relative;
            width: 100%;
            padding-top: 66.67%; /* Restore original aspect ratio */
            overflow: hidden;
        }

        .vehicle-image-container img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* This will ensure the full image is visible */
            background-color: #f8f9fa;
        }

        .vehicle-info {
            padding: 1.5rem;
        }

        .vehicle-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .vehicle-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #007bff;
            margin-bottom: 1rem;
        }

        .vehicle-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .vehicle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            padding: 2rem 0;
        }
        .badge {
            font-size: 0.8rem;
            padding: 5px 10px;
            margin-right: 5px;
        }
        .badge-new {
            background-color: #28a745;
            color: white;
        }
        .badge-used {
            background-color: #6c757d;
            color: white;
        }
        .concerns-list {
            list-style-type: none;
            padding-left: 0;
        }
        .concerns-list li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 20px;
        }
        .concerns-list li:before {
            content: "â€¢";
            position: absolute;
            left: 0;
        }
        .update-button {
            background-color: transparent;
            border: 1px solid #dee2e6;
            padding: 8px 16px;
            border-radius: 20px;
            color: #6c757d;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .customer-info-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .customer-info-left {
            padding-right: 1rem;
        }
        .customer-info-right {
            padding-left: 1rem;
        }

        .car-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 20px;
            width: 100%;
        }

        .car-item {
            background: #fff;
            padding: 12px 0;
            width: 100%;
        }

        .car-item img {
            width: 100%;
            height: auto;
            border-radius: 6px;
            margin-bottom: 12px;
        }

        .car-item h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2rem;
            margin: 0 0 12px;
            color: #333;
            font-weight: 600;
        }

        .car-item h4 {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            margin: 12px 0 6px;
            color: #444;
            font-weight: 600;
        }

        .key-specs ul,
        .fits-needs ul,
        .potential-gaps ul {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .key-specs li {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            border-bottom: 1px solid #eee;
        }

        .key-specs li:last-child {
            border-bottom: none;
        }

        .fits-needs li,
        .potential-gaps li {
            padding: 4px 0;
            display: flex;
            align-items: center;
        }

        .fits-needs i,
        .potential-gaps i {
            margin-right: 6px;
            font-size: 0.8rem;
            width: 12px;
        }

        .fits-needs i {
            color: #4CAF50;
        }

        .potential-gaps i {
            color: #FF5722;
        }

        .key-specs,
        .fits-needs,
        .potential-gaps {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 10px;
            width: 100%;
        }

        .key-specs li strong {
            color: #666;
            font-weight: 500;
            margin-right: 8px;
        }
        .car-details p {
            font-size: 0.8em;
            line-height: 1.2;
            margin: 0.2rem 0;
            color: #444;
        }
        .vehicle-image-container {
            padding-top: 56%;
        }
        .vehicle-image-container img {
            max-height: 100%;
            object-fit: contain;
            background-color: #fff;
        }
        .status-label {
            padding: 2px 6px;
            font-size: 0.75em;
        }
        @page {
            size: portrait;
            margin: 0.4in;
        }
        @page :first {
            margin-top: 0.4in;
        }
        .concerns-box {
            background-color: #f0f0f0;
            padding: 1.25rem;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .concerns-box h2 {
            margin-top: 0;
            margin-bottom: 1.25rem;
        }
        .concerns-box h3 {
            font-style: italic;
            font-size: 0.95em;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
            font-weight: normal;
        }
        .concerns-box h3:first-of-type {
            margin-top: 0;
        }
        .container {
            max-width: 1000px;
        }
        .two-column-layout {
            display: grid;
            grid-template-columns: 66.67% 33.33%;
            gap: 24px;
            height: 100%;
            padding: 0 20px 20px 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .left-column {
            background: white;
            border-radius: 10px;
            padding: 20px;
            font-size: 14px;
        }
        .right-column {
            background: white;
            border-radius: 10px;
            padding: 20px;
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            position: relative;
        }

        .customer-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.5rem;
            line-height: 1.2;
            padding-top: 20px;
        }

        .customer-headline {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.25rem;
            font-weight: 500;
            color: #4a5568;
            margin-bottom: 2.5rem;
            line-height: 1.4;
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #5D4B63;  /* Dark, muted purple */
        }

        .section-content {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #4a5568;
            margin-bottom: 1.5rem;
        }

        .features-list {
            margin: 0 0 3rem 0;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            list-style: none;
        }

        .features-list li {
            font-size: 0.8rem;
            color: #4a5568;
            background-color: #EDF2F7;
            padding: 0.4rem 0.9rem;
            border-radius: 100px;
            display: inline-flex;
            align-items: center;
            font-weight: 500;
        }

        .features-list i {
            color: #48bb78;
            margin-right: 0.5rem;
            font-size: 0.8rem;
        }

        /* Right column card styles */
        .right-column .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            border: none;
            padding: 1.25rem;
        }

        .left-column .section-wrapper {
            margin-bottom: 2rem;
        }

        /* Print styles */
        @media print {
            html {
                -webkit-print-color-adjust: exact;
            }
            body {
                background: none;
                margin: 0;
                padding: 0;
                font-size: 11px;
            }
            .header {
                display: none;
            }
            .container {
                width: 100%;
                max-width: none;
                padding: 10px;
                margin: 0;
            }
            .customer-header {
                position: relative;
                padding-top: 50px;
                margin-bottom: 15px;
            }
            .customer-header::before {
                content: '';
                background-image: none;
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
                position: absolute;
                top: 10px;
                left: 50%;
                transform: translateX(-50%);
                width: 100px;
                height: 35px;
            }
            h2 {
                font-size: 1.2rem;
                margin-bottom: 0.5rem;
            }
            h2.h4.mt-4.mb-3 {
                page-break-before: always;
                margin-top: 0 !important;
                margin-bottom: 0.5rem !important;
            }
            h3 {
                font-size: 0.9rem;
                margin-bottom: 0.2rem;
            }
            .car-item {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ddd;
                padding: 6px;
            }
            .price-mileage {
                font-size: 0.75em;
                color: #666;
                margin: 0.2rem 0;
            }
            .price-mileage .separator {
                margin: 0 2px;
                color: #999;
            }
            .car-details p {
                font-size: 0.8em;
                line-height: 1.2;
                margin: 0.2rem 0;
                color: #444;
            }
            .vehicle-image-container {
                padding-top: 56%;
            }
            .vehicle-image-container img {
                max-height: 100%;
                object-fit: contain;
                background-color: #fff;
            }
            .status-label {
                padding: 2px 6px;
                font-size: 0.75em;
            }
            @page {
                size: portrait;
                margin: 0.4in;
            }
            @page :first {
                margin-top: 0.4in;
            }
        }
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        .container {
            height: calc(100vh - 60px); /* Adjust based on header height */
            padding: 0;
            max-width: 1000px;
            margin: 0 auto;
        }

        .two-column-layout {
            display: grid;
            grid-template-columns: 66.67% 33.33%;
            gap: 24px;
            height: 100%;
            padding: 0 20px 20px 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .left-column, .right-column {
            height: 100%;
            overflow-y: auto;
            padding: 0 16px;
            scrollbar-gutter: stable;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .left-column::-webkit-scrollbar, .right-column::-webkit-scrollbar {
            width: 6px;
            background: transparent;
        }

        .left-column:not(:hover)::-webkit-scrollbar, .right-column:not(:hover)::-webkit-scrollbar {
            width: 0;
            opacity: 0;
        }

        /* Track */
        .left-column::-webkit-scrollbar-track, .right-column::-webkit-scrollbar-track {
            background: transparent;
            border-radius: 3px;
        }
        
        /* Handle */
        .left-column::-webkit-scrollbar-thumb, .right-column::-webkit-scrollbar-thumb {
            background: rgba(193, 193, 193, 0.5);
            border-radius: 3px;
            transition: background 0.2s;
        }

        /* Handle on hover */
        .left-column::-webkit-scrollbar-thumb:hover, .right-column::-webkit-scrollbar-thumb:hover {
            background: rgba(161, 161, 161, 0.8);
        }

        /* Firefox scrollbar */
        .left-column, .right-column {
            scrollbar-width: thin;
            scrollbar-color: transparent transparent;
        }

        .left-column:hover, .right-column:hover {
            scrollbar-color: rgba(193, 193, 193, 0.5) transparent;
        }
        .sticky-header {
            position: sticky;
            top: 0;
            background-color: #f0f0f0;
            padding: 20px;
            z-index: 10;
            margin: -20px -20px 20px -20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-transform: uppercase;
            font-weight: 300;
            font-size: 14px;
            color: #666;
            letter-spacing: 0.5px;
        }
        .tradeoffs-box {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tradeoffs-box h2 {
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
        }
        .tradeoffs-box h3 {
            color: #1a1a1a;
            font-size: 1rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem;
        }
        .tradeoffs-box h3:first-of-type {
            margin-top: 0;
        }
        .tradeoff-item {
            margin-bottom: 2rem;
        }
        .tradeoff-item:last-child {
            margin-bottom: 0;
        }
        .tradeoff-item ul {
            list-style: none;
            padding: 0;
            margin: 0;
            color: #4a5568;
        }
        .tradeoff-item li {
            margin-bottom: 0.75rem;
            position: relative;
            padding-left: 20px;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .tradeoff-item li:before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: #4a5568;
        }
        .tradeoff-item li:last-child {
            margin-bottom: 0;
        }
        .page-toggle {
            display: flex;
            gap: 10px;
            background-color: #f4f4f4;
            border-radius: 20px;
            padding: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-right: auto;
            align-self: center;
        }
        .page-toggle a {
            padding: 8px 15px;
            border-radius: 15px;
            color: #666;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .page-toggle a:hover {
            background-color: #e0e0e0;
        }
        .page-toggle a.active {
            background-color: #fff;
            color: #333;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .page-toggle i {
            font-size: 1.2rem;
        }
    </style>
    <script>
        async function fetchCarImage(carTitle) {
            try {
                const apiUrl = `https://cars.swizzl.ai/cars/images/${encodeURIComponent(carTitle)}`;
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`API error: ${response.status}`);
                }
                const data = await response.json();
                return data[0]?.link || null;
            } catch (error) {
                console.error('Error fetching car image:', error);
                return null;
            }
        }

        async function loadCarImages() {
            const carItems = document.querySelectorAll('.car-item');
            for (const carItem of carItems) {
                const carTitle = carItem.querySelector('h3').textContent;
                const imgElement = carItem.querySelector('img');
                const imageUrl = await fetchCarImage(carTitle);
                if (imageUrl) {
                    imgElement.src = imageUrl;
                    imgElement.alt = carTitle;
                }
            }
        }

        window.addEventListener('load', loadCarImages);
    </script>
</head>
<body>
    <header class="header">
        <div class="page-toggle">
            <a href="matchup.html" title="Tournament View">
                <i class="fas fa-sitemap"></i>
            </a>
            <a href="salesheet.html" class="active" title="Sales Sheet">
                <i class="fas fa-file-alt"></i>
            </a>
        </div>
        <div class="logo-container">
            <img src="../mainimg/logo.png" alt="Logo" class="logo">
        </div>
        <div style="flex: 1; display: flex; justify-content: flex-end;">
            <button id="loadDataBtn" class="btn btn-primary">Load Data</button>
        </div>
    </header>

    <!-- Modal for data input -->
    <div class="modal fade" id="dataModal" tabindex="-1" aria-labelledby="dataModalLabel" aria-hidden="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="dataModalLabel">Load Customer Data</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="jsonInput" class="form-label">Paste JSON Data</label>
                        <textarea class="form-control" id="jsonInput" rows="10"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="loadJsonBtn">Load Data</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container py-4">
        <div class="two-column-layout">
            <div class="left-column">
                <!-- Customer Info -->
                <h1 class="customer-name">Kelly Richardson</h1>
                <p class="customer-headline">Parent struggling with the decision between a practical family car and a vehicle that still maintains some sporty characteristics.</p>
                
                <!-- Must Have Features -->
                <h2 class="section-title">Must Have Features</h2>
                <ul class="features-list">
                    <li>Safety rating of 4 stars or higher</li>
                    <li>Apple CarPlay compatibility</li>
                    <li>Blind spot monitoring</li>
                    <li>Adaptive cruise control</li>
                    <li>Cargo space for sports equipment</li>
                    <li>Comfortable seating for 4+</li>
                </ul>

                <!-- Where I am section -->
                <div class="section-wrapper">
                    <h2 class="section-title">Where You Are<Area:r></Area:r></h2>
                    <p class="section-content">Currently driving a 2015 Honda Civic that's starting to show its age. With two growing kids and their sports equipment, we're finding ourselves needing more space.</p>
                </div>

                <!-- Where I hope to go section -->
                <div class="section-wrapper">
                    <h2 class="section-title">Where You Hope To Go</h2>
                    <p class="section-content">Looking for a vehicle that can accommodate a growing family's needs while maintaining some of the sporty characteristics I've enjoyed in my Civic. Want something that feels modern and tech-savvy.</p>
                </div>

                <!-- Your Concerns section -->
                <div class="section-wrapper">
                    <h2 class="section-title">Your Concerns</h2>
                    
                    <h3>About the Car</h3>
                    <ul class="section-content">
                        <li>Worried about losing the fun driving experience I'm used to with my Civic</li>
                        <li>Concerned about fuel efficiency with a larger vehicle</li>
                    </ul>

                    <h3>About The Buying Process</h3>
                    <ul class="section-content">
                        <li>Want to ensure I'm getting a fair deal and understanding all the features I'm paying for</li>
                        <li>Concerned about the current market conditions and availability of desired models</li>
                    </ul>
                </div>

                <!-- Tradeoffs section -->
                <div class="section-wrapper">
                    <h2 class="section-title">Tradeoffs You're Willing To Make</h2>
                    <div class="tradeoff-item">
                        <h3>Value Over Brand Prestige</h3>
                        <ul>
                            <li>Selected vehicles with better range and features despite less prestigious brand names</li>
                            <li>Chose options with stronger performance specs over luxury marque alternatives</li>
                            <li>Prioritized practical features and value proposition over premium brand status</li>
                        </ul>
                    </div>
                    
                    <div class="tradeoff-item">
                        <h3>Performance Over Efficiency</h3>
                        <ul>
                            <li>Consistently selected vehicles with faster acceleration times</li>
                            <li>Chose models with more aggressive styling and sporty characteristics</li>
                            <li>Selected options emphasizing driving dynamics over maximum range</li>
                        </ul>
                    </div>
                    
                    <div class="tradeoff-item">
                        <h3>Established Platforms Over New Entrants</h3>
                        <ul>
                            <li>Favored vehicles from manufacturers with longer market presence</li>
                            <li>Selected options from brands with established dealer networks</li>
                            <li>Chose models from companies with proven track records</li>
                        </ul>
                    </div>
                    
                    <div class="tradeoff-item">
                        <h3>Technology Over Traditional Luxury</h3>
                        <ul>
                            <li>Selected vehicles with advanced tech features over traditional luxury appointments</li>
                            <li>Chose options emphasizing modern interfaces and connectivity</li>
                            <li>Preferred models with cutting-edge features over conventional premium materials</li>
                        </ul>
                    </div>
                    
                    <div class="tradeoff-item">
                        <h3>American Market Familiarity Over European Design</h3>
                        <ul>
                            <li>Selected vehicles with stronger presence in American market</li>
                            <li>Chose options from brands with established US service networks</li>
                            <li>Preferred models aligned with American consumer preferences</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Questions to Answer Section -->
                <div class="section-wrapper">
                    <h2 class="section-title">Questions to Answer</h2>
                    <div class="questions-container">
                        <div class="tradeoff-item">
                            <h3>Advanced technology features or traditional luxury elements?</h3>
                            <p>The Tesla Model Y offers cutting-edge technology and a strong resale value, but it lacks Apple CarPlay/Android Auto, which you value. On the other hand, the Hyundai IONIQ 5 provides a unique design and fast charging but may not convey the luxury status you desire. Consider whether the latest tech innovations or a more traditional luxury feel align better with your personality and lifestyle.</p>
                        </div>
                        
                        <div class="tradeoff-item">
                            <h3>Brand prestige versus value for money?</h3>
                            <p>The Hyundai IONIQ 5 offers a good value proposition and unique design, but it comes from a less prestigious brand, which might not align with your social status goals. The Ford Mustang Mach-E, with its American brand recognition, might better fit your image preferences but could come with a higher price and potential software issues. Weigh the importance of brand prestige against the value and features offered by each vehicle.</p>
                        </div>
                        
                        <div class="tradeoff-item">
                            <h3>Performance and sporty driving dynamics or practicality and family needs?</h3>
                            <p>The Ford Mustang Mach-E provides strong performance and sporty handling, which might appeal to your desire for a car that reflects your personality. However, it has limited cargo space, which might not fully meet your family needs. The Tesla Model Y, with its spacious interior and child seat compatibility, offers more practicality but may not deliver the same sporty experience. Consider whether performance or practicality is more crucial for your daily driving experience.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-column">
                <!-- Cars in Consideration -->
                <h2 class="section-title sticky-header">Recommended for You</h2>
                <div class="car-grid">
                    <div class="car-item">
                        <img src="https://placehold.co/600x400" alt="Tesla Model Y">
                        <h3>Tesla Model Y</h3>
                        
                        <div class="key-specs">
                            <ul>
                                <li><strong>Price:</strong> $43,990-$53,990</li>
                                <li><strong>Range:</strong> 330 miles</li>
                                <li><strong>0-60:</strong> 3.5-6.0s</li>
                                <li><strong>Cargo:</strong> 76.2 cubic feet</li>
                                <li><strong>Ground clearance:</strong> 6.6 inches</li>
                                <li><strong>ISOFIX points:</strong> 3</li>
                            </ul>
                        </div>

                        <div class="fits-needs">
                            <h4>Fits Your Needs</h4>
                            <ul>
                                <li><i class="fas fa-check"></i> Strong resale value</li>
                                <li><i class="fas fa-check"></i> Leading tech features</li>
                                <li><i class="fas fa-check"></i> Spacious interior</li>
                                <li><i class="fas fa-check"></i> Low maintenance costs</li>
                            </ul>
                        </div>

                        <div class="potential-gaps">
                            <h4>Potential Gaps</h4>
                            <ul>
                                <li><i class="fas fa-times"></i> Build quality concerns</li>
                                <li><i class="fas fa-times"></i> No Apple CarPlay/Android Auto</li>
                                <li><i class="fas fa-times"></i> Higher initial cost</li>
                            </ul>
                        </div>
                    </div>

                    <div class="car-item">
                        <img src="https://placehold.co/600x400" alt="Mazda3 Hatchback">
                        <h3>Mazda3 Hatchback (2023)</h3>
                        
                        <div class="key-specs">
                            <ul>
                                <li><strong>Price:</strong> $21,640-$28,440</li>
                                <li><strong>Range:</strong> N/A</li>
                                <li><strong>0-60:</strong> 5.7-8.2s</li>
                                <li><strong>Cargo:</strong> 20.2 cubic feet</li>
                                <li><strong>Ground clearance:</strong> 5.1 inches</li>
                                <li><strong>ISOFIX points:</strong> 2</li>
                            </ul>
                        </div>

                        <div class="fits-needs">
                            <h4>Fits Your Needs</h4>
                            <ul>
                                <li><i class="fas fa-check"></i> Strong resale value</li>
                                <li><i class="fas fa-check"></i> Good handling characteristics</li>
                                <li><i class="fas fa-check"></i> Spacious interior</li>
                                <li><i class="fas fa-check"></i> Low maintenance costs</li>
                            </ul>
                        </div>

                        <div class="potential-gaps">
                            <h4>Potential Gaps</h4>
                            <ul>
                                <li><i class="fas fa-times"></i> Limited cargo space</li>
                                <li><i class="fas fa-times"></i> No hybrid option</li>
                                <li><i class="fas fa-times"></i> Less advanced tech features</li>
                            </ul>
                        </div>
                    </div>

                    <div class="car-item">
                        <img src="https://placehold.co/600x400" alt="Honda Civic Hatchback Sport">
                        <h3>Honda Civic Hatchback Sport (2022)</h3>
                        
                        <div class="key-specs">
                            <ul>
                                <li><strong>Price:</strong> $23,850-$28,400</li>
                                <li><strong>Range:</strong> N/A</li>
                                <li><strong>0-60:</strong> 7.2-8.2s</li>
                                <li><strong>Cargo:</strong> 25.7 cubic feet</li>
                                <li><strong>Ground clearance:</strong> 6.7 inches</li>
                                <li><strong>ISOFIX points:</strong> 2</li>
                            </ul>
                        </div>

                        <div class="fits-needs">
                            <h4>Fits Your Needs</h4>
                            <ul>
                                <li><i class="fas fa-check"></i> Strong resale value</li>
                                <li><i class="fas fa-check"></i> Good handling characteristics</li>
                                <li><i class="fas fa-check"></i> Spacious interior</li>
                                <li><i class="fas fa-check"></i> Low maintenance costs</li>
                            </ul>
                        </div>

                        <div class="potential-gaps">
                            <h4>Potential Gaps</h4>
                            <ul>
                                <li><i class="fas fa-times"></i> Less advanced tech features</li>
                                <li><i class="fas fa-times"></i> No hybrid option</li>
                                <li><i class="fas fa-times"></i> Higher initial cost</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to find element by text content
        function findElementByText(selectorOrElements, text) {
            let elements;
            if (typeof selectorOrElements === 'string') {
                elements = document.querySelectorAll(selectorOrElements);
            } else if (selectorOrElements instanceof NodeList) {
                elements = selectorOrElements;
            } else {
                return null;
            }
            
            return Array.from(elements).find(element => 
                element.textContent.trim() === text.trim()
            );
        }

        // Function to load JSON data
        function loadJsonData(jsonData) {
            try {
                // Customer info
                document.querySelector('.customer-name').textContent = jsonData.customer.name;
                document.querySelector('.customer-headline').textContent = jsonData.customer.headline;

                // Must-have features
                const mustHaveList = document.querySelector('.features-list');
                mustHaveList.innerHTML = jsonData.mustHaveFeatures.map(feature => 
                    `<li>${feature}</li>`
                ).join('');

                // Where you are
                const whereYouAreTitle = findElementByText('.section-wrapper h2.section-title', 'Where You Are');
                if (whereYouAreTitle) {
                    const currentSituation = whereYouAreTitle.nextElementSibling;
                    if (currentSituation) {
                        currentSituation.textContent = jsonData.whereYouAre;
                    }
                }

                // Where you hope to go
                const whereYouHopeTitle = findElementByText('.section-wrapper h2.section-title', 'Where You Hope To Go');
                if (whereYouHopeTitle) {
                    const futureGoals = whereYouHopeTitle.nextElementSibling;
                    if (futureGoals) {
                        futureGoals.textContent = jsonData.whereYouHopeToGo;
                    }
                }

                // Concerns
                const concernsTitle = findElementByText('.section-wrapper h2.section-title', 'Your Concerns');
                if (concernsTitle) {
                    const concernsSection = concernsTitle.parentElement;
                    const carConcernsTitle = Array.from(concernsSection.querySelectorAll('h3')).find(el => 
                        el.textContent.trim() === 'About the Car'
                    );
                    const processConcernsTitle = Array.from(concernsSection.querySelectorAll('h3')).find(el => 
                        el.textContent.trim() === 'About The Buying Process'
                    );

                    if (carConcernsTitle) {
                        const carConcernsList = carConcernsTitle.nextElementSibling;
                        if (carConcernsList) {
                            carConcernsList.innerHTML = jsonData.yourConcerns.aboutTheCar.map(concern =>
                                `<li>${concern}</li>`
                            ).join('');
                        }
                    }

                    if (processConcernsTitle) {
                        const processConcernsList = processConcernsTitle.nextElementSibling;
                        if (processConcernsList) {
                            processConcernsList.innerHTML = jsonData.yourConcerns.aboutTheBuyingProcess.map(concern =>
                                `<li>${concern}</li>`
                            ).join('');
                        }
                    }
                }

                // Tradeoffs
                const tradeoffsTitle = findElementByText('.section-wrapper h2.section-title', 'Tradeoffs You\'re Willing To Make');
                if (tradeoffsTitle) {
                    const tradeoffsSection = tradeoffsTitle.parentElement;
                    const tradeoffsHtml = jsonData.tradeoffs.map(tradeoff => `
                        <div class="tradeoff-item">
                            <h3>${tradeoff.title}</h3>
                            <ul>
                                ${tradeoff.details.map(detail => `<li>${detail}</li>`).join('')}
                            </ul>
                        </div>
                    `).join('');
                    
                    // Keep the title and replace the rest of the content
                    tradeoffsSection.innerHTML = '';
                    tradeoffsSection.appendChild(tradeoffsTitle);
                    tradeoffsSection.insertAdjacentHTML('beforeend', tradeoffsHtml);
                }

                // Questions to Answer
                const questionsTitle = findElementByText('.section-wrapper h2.section-title', 'Questions to Answer');
                if (questionsTitle) {
                    const questionsSection = questionsTitle.parentElement;
                    const questionsContainer = questionsSection.querySelector('.questions-container');
                    if (questionsContainer && jsonData.questionsToAnswer) {
                        const questionsHtml = jsonData.questionsToAnswer.map(question => `
                            <div class="tradeoff-item">
                                <h3>${question.mainQuestion}</h3>
                                <p>${question.explanation}</p>
                            </div>
                        `).join('');
                        questionsContainer.innerHTML = questionsHtml;
                    }
                }

                // Recommended Cars
                const carGrid = document.querySelector('.car-grid');
                carGrid.innerHTML = jsonData.recommendedCars.map(car => `
                    <div class="car-item">
                        <img src="${car.image}" alt="${car.name}">
                        <h3>${car.name}</h3>
                        <div class="key-specs">
                            ${Object.entries(car.keySpecs).map(([key, value]) => `
                                <div class="spec-item">
                                    <span class="spec-label">${key}:</span>
                                    <span class="spec-value">${value}</span>
                                </div>
                            `).join('')}
                        </div>
                        <div class="car-features">
                            <h4>Fits Your Needs</h4>
                            <ul>
                                ${car.fitsYourNeeds.map(need => `<li>${need}</li>`).join('')}
                            </ul>
                            <h4>Potential Gaps</h4>
                            <ul>
                                ${car.potentialGaps.map(gap => `<li>${gap}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `).join('');

                // Refresh car images after loading new data
                loadCarImages();
            } catch (error) {
                console.error('Error loading JSON data:', error);
                alert('Error loading data. Please check the console for details.');
            }
        }

        // Initialize modal and button handlers
        document.addEventListener('DOMContentLoaded', function() {
            const dataModal = new bootstrap.Modal(document.getElementById('dataModal'));
            const loadDataBtn = document.getElementById('loadDataBtn');
            const loadJsonBtn = document.getElementById('loadJsonBtn');
            const jsonInput = document.getElementById('jsonInput');

            loadDataBtn.addEventListener('click', () => {
                dataModal.show();
            });

            loadJsonBtn.addEventListener('click', () => {
                try {
                    const jsonData = JSON.parse(jsonInput.value);
                    loadJsonData(jsonData);
                    dataModal.hide();
                } catch (error) {
                    console.error('Error parsing JSON:', error);
                    alert('Invalid JSON format. Please check your input.');
                }
            });
        });

        const jsonData = {
            "customer": {
                "name": "Nick Randall",
                "headline": "Parent struggling to balance finding an electric vehicle that fits their personality with one that is functional for their family is looking to buy a new or used EV for $30,000 - $50,000"
            },
            "mustHaveFeatures": [
                "Child seat compatibility",
                "High ground clearance",
                "Fuel efficiency",
                "Spacious interior",
                "Easy city maneuverability",
                "Modern tech",
                "Apple CarPlay/Android Auto",
                "High safety rating",
                "All-wheel drive"
            ],
            "whereYouAre": "I need a new car because I can't count on my current car's reliability anymore. I am considering electric vehicles (EVs). The car must have child seat compatibility, high ground clearance, fuel efficiency, a spacious interior, easy city maneuverability, modern tech, Apple CarPlay/Android Auto, a high safety rating, and all-wheel drive.",
            "whereYouHopeToGo": "I am focused on understanding the compromises I'll need to make to meet my new functional needs and finding a car that matches my personality and image. I want to feel confident that I got a good price, that the car is solid for me, and that I don't have to worry about it. I want to be happy with how it meets my new needs, feel good driving it, and ensure it reflects my personality. It's important to me that people see me the way I intend, so I feel great about how I come across. I need the car to accommodate family changes, offer better fuel efficiency, and allow for home charging. Low maintenance costs, fitting my budget, enjoying daily driving, feeling accomplished, conveying social status, and looking great are most important to me. It's least important that others can drive it easily or that I don't have to be careful with it.",
            "yourConcerns": {
                "aboutTheCar": [
                    "Will this car be reliable?",
                    "Will the car hold its value?"
                ],
                "aboutTheBuyingProcess": [
                    "Will I get ripped off or 'sold?'"
                ]
            },
            "tradeoffs": [
                {
                    "title": "Performance Over Range",
                    "details": [
                        "Selected vehicles with faster acceleration times over maximum range",
                        "Chose options emphasizing driving dynamics and sporty characteristics",
                        "Willing to accept slightly lower range for better performance metrics"
                    ]
                },
                {
                    "title": "Brand Recognition Over Value",
                    "details": [
                        "Consistently selected vehicles from well-established manufacturers",
                        "Chose options from brands with strong market presence",
                        "Preferred traditional luxury marques over newer value-oriented brands"
                    ]
                },
                {
                    "title": "Safety Over Cargo Space",
                    "details": [
                        "Selected vehicles with strong safety reputations despite smaller cargo capacity",
                        "Prioritized advanced safety features over maximum utility",
                        "Chose options from manufacturers known for safety innovation"
                    ]
                },
                {
                    "title": "Traditional Design Over Modern Styling",
                    "details": [
                        "Favored conventional automotive designs",
                        "Selected vehicles with familiar styling cues",
                        "Chose options with traditional luxury appointments"
                    ]
                },
                {
                    "title": "Domestic Market Preference",
                    "details": [
                        "Strong preference for vehicles with established US presence",
                        "Selected options with robust dealer networks",
                        "Chose models from brands with strong American market understanding"
                    ]
                }
            ],
            "recommendedCars": [
                {
                    "name": "Tesla Model Y",
                    "image": "https://placehold.co/600x400",
                    "keySpecs": {
                        "Price": "$43,990-$53,990",
                        "Range": "330 miles",
                        "0-60": "3.5-6.0s",
                        "Cargo": "76.2 cubic feet",
                        "Ground clearance": "6.6 inches",
                        "ISOFIX points": "3"
                    },
                    "fitsYourNeeds": [
                        "Strong resale value",
                        "Leading tech features",
                        "Spacious interior",
                        "Low maintenance costs",
                        "All-wheel drive"
                    ],
                    "potentialGaps": [
                        "Build quality concerns",
                        "No Apple CarPlay/Android Auto",
                        "Higher initial cost"
                    ]
                },
                {
                    "name": "Hyundai IONIQ 5",
                    "image": "https://placehold.co/600x400",
                    "keySpecs": {
                        "Price": "$41,450-$52,600",
                        "Range": "303 miles",
                        "0-60": "5.2s",
                        "Cargo": "59.3 cubic feet",
                        "Ground clearance": "6.1 inches",
                        "ISOFIX points": "3"
                    },
                    "fitsYourNeeds": [
                        "Unique design",
                        "Fast charging capability",
                        "Spacious interior",
                        "Good value proposition",
                        "Apple CarPlay/Android Auto"
                    ],
                    "potentialGaps": [
                        "Less established luxury brand",
                        "Limited dealer network",
                        "Some cheap interior materials"
                    ]
                },
                {
                    "name": "Ford Mustang Mach-E",
                    "image": "https://placehold.co/600x400",
                    "keySpecs": {
                        "Price": "$45,995-$53,995",
                        "Range": "312 miles",
                        "0-60": "3.5s",
                        "Cargo": "59.7 cubic feet",
                        "Ground clearance": "5.7 inches",
                        "ISOFIX points": "3"
                    },
                    "fitsYourNeeds": [
                        "Strong performance",
                        "American brand recognition",
                        "Good range",
                        "Sporty handling",
                        "All-wheel drive"
                    ],
                    "potentialGaps": [
                        "Controversial styling",
                        "Software issues reported",
                        "Limited cargo space"
                    ]
                }
            ],
            "questionsToAnswer": [
                {
                    "mainQuestion": "Advanced technology features or traditional luxury elements?",
                    "explanation": "The Tesla Model Y offers cutting-edge technology and a strong resale value, but it lacks Apple CarPlay/Android Auto, which you value. On the other hand, the Hyundai IONIQ 5 provides a unique design and fast charging but may not convey the luxury status you desire. Consider whether the latest tech innovations or a more traditional luxury feel align better with your personality and lifestyle."
                },
                {
                    "mainQuestion": "Brand prestige versus value for money?",
                    "explanation": "The Hyundai IONIQ 5 offers a good value proposition and unique design, but it comes from a less prestigious brand, which might not align with your social status goals. The Ford Mustang Mach-E, with its American brand recognition, might better fit your image preferences but could come with a higher price and potential software issues. Weigh the importance of brand prestige against the value and features offered by each vehicle."
                },
                {
                    "mainQuestion": "Performance and sporty driving dynamics or practicality and family needs?",
                    "explanation": "The Ford Mustang Mach-E provides strong performance and sporty handling, which might appeal to your desire for a car that reflects your personality. However, it has limited cargo space, which might not fully meet your family needs. The Tesla Model Y, with its spacious interior and child seat compatibility, offers more practicality but may not deliver the same sporty experience. Consider whether performance or practicality is more crucial for your daily driving experience."
                }
            ]
        };

        loadJsonData(jsonData);
    </script>
</body>
</html>
